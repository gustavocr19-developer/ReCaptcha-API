## Google ReCaptcha V2 API + React JS + Next Js

<br>

#### LIVE DEMO: https://recaptcha-api.vercel.app/

<br>

## Documentation - Step by step

### First step: Creating a new Tag

- Access the link:
  https://www.google.com/recaptcha/admin/create
- Write your tag name;
- Choose reCAPTCHA v2 (invisible);
- Add all your domains (don't forget to include localhost);
- Write all ownners emails (optional);
- Accept reCAPTCHA terms and services;

### Second step: save two keys

- reCAPTCHA will generate: SITE KEY and SECRET KEY;
- We'll use them later on;

### Third step : Adding reCAPTCHA in your Front-end code

#### ALL STEPS DESCRIBED IN THIS THIRD STEP, THERE ARE IN FOLDER PAGES/INDEX.JS

- Run command:
  npm install --save react-google-recaptcha
- In your code : import ReCAPTCHA from "react-google-recaptcha"
- Declare reference Hook :
  - import {useRef} from "react";
- const refRef = useRef(); [`if you're using type script try: const refRef = useRef<ReCAPTCHA>()`; ]
- Inside your form tag : `<ReCAPTCHA sitekey='paste your SITE KEY here' size="invisible" ref={refRef} />`
- Now in your submit function we need to access token generated by reCAPTCHA and reset: `const token = await refRef.current.executeAsync(); refRef.current.reset()`
- Send a variable token to backend in the body of the requisition with others that your form already has; Do this throught POST method (IMPORTANT)
- Do not forget to pass your secret trhrought a enviroment variable, for security reasons;

### Fourth step : Receiving token in the backend

-Create a function validate human, which is in /pages/api;

- Note that function can result only TRUE or FALSE.. If it's TRUE means that You're not a robot, then you can register form data. Else, if it's false means that You're a robot, then you must to block form data save proccess.
- After that, work you function there you receive form data and save if it's TRUE;
- Send a response to front end showing what's happen!

### Now enjoy keep adding others features in your application ;)
